# Railway Deploy Guide

## Деплой с SQLite на Railway

Этот проект настроен для деплоя на Railway с persistent SQLite базой данных.

### Особенности конфигурации:

1. **Volume для SQLite**: База данных сохраняется в `/app/data/bot.db`
2. **Nixpacks**: Используется для автоматической сборки
3. **Persistent Storage**: Данные не теряются при редеплое

### Настройка на Railway:

1. После деплоя перейдите в Settings → Variables
2. Установите переменные окружения:
   - `BOT_TOKEN` - токен Telegram бота
   - `OPENROUTER_API_KEY` - ключ OpenRouter API
   - `ALLOWED_USERS` - список ID пользователей через запятую (опционально)
   - `ALLOWED_REPOS` - список разрешенных репозиториев (опционально)

3. В Settings → Volumes создайте volume:
   - Mount Path: `/app/data`
   - Size: 1GB (или больше по необходимости)

### Проверка деплоя:

- Логи должны показать успешную инициализацию базы данных
- Бот должен ответить на команду `/start`
- База данных создастся автоматически при первом запуске

### Важные моменты:

- **Backup**: Рекомендуется настроить регулярные бэкапы volume
- **Scaling**: Используйте только 1 реплику для SQLite
- **Updates**: При обновлениях данные в volume сохраняются